version: 1
frontend:
  phases:
    preBuild:
      commands:
        - cd frontend
        - npm install
    build:
      commands:
        - npm run build
  artifacts:
    baseDirectory: frontend/build
    files:
      - '**/*'
  cache:
    paths:
      - frontend/node_modules/**/*
# --- START OF POST-BUILD DEBUG ---
# This will run after the build and show us if the artifacts exist.
postBuild:
  commands:
    - echo "--- Listing files in the build directory for verification ---"
    - ls -lR frontend/build
# --- END OF POST-BUILD DEBUG ---